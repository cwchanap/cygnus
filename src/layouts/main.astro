---
import '../styles/global.css';
import DrumMidiPreview from '../components/DrumMidiPreview.svelte';
import DrumToast from '../components/DrumToast.svelte';
const { content } = Astro.props;
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<title>{content.title}</title>
	</head>
	<body class="min-h-screen bg-gradient-to-br from-blue-900 via-blue-600 to-cyan-500 relative overflow-hidden">
		<!-- Dynamic animated background layers -->
		<div class="absolute inset-0 bg-gradient-to-r from-blue-400/30 via-cyan-300/40 to-blue-500/30 animate-pulse"></div>
		<div class="absolute inset-0 bg-gradient-to-t from-blue-800/20 via-transparent to-cyan-200/20"></div>

		<!-- Floating particles -->
		<div class="absolute inset-0 overflow-hidden pointer-events-none z-0">
			<div class="particle particle-1"></div>
			<div class="particle particle-2"></div>
			<div class="particle particle-3"></div>
			<div class="particle particle-4"></div>
			<div class="particle particle-5"></div>
			<div class="particle particle-6"></div>
		</div>

		<!-- Animated wave overlay -->
		<div class="absolute bottom-0 left-0 w-full h-32 opacity-30">
			<svg class="wave-animation" viewBox="0 0 1200 120" preserveAspectRatio="none">
				<path d="M0,60 C150,100 350,0 600,60 C850,120 1050,20 1200,60 L1200,120 L0,120 Z" fill="url(#waveGradient)"/>
			</svg>
			<svg class="wave-animation wave-2" viewBox="0 0 1200 120" preserveAspectRatio="none">
				<path d="M0,80 C300,140 600,40 900,80 C1050,100 1150,60 1200,80 L1200,120 L0,120 Z" fill="url(#waveGradient2)"/>
			</svg>
		</div>

		<!-- SVG Gradients for waves -->
		<svg width="0" height="0" class="absolute">
			<defs>
				<linearGradient id="waveGradient" x1="0%" y1="0%" x2="100%" y2="0%">
					<stop offset="0%" style="stop-color:rgba(59, 130, 246, 0.6);stop-opacity:1" />
					<stop offset="50%" style="stop-color:rgba(6, 182, 212, 0.8);stop-opacity:1" />
					<stop offset="100%" style="stop-color:rgba(59, 130, 246, 0.6);stop-opacity:1" />
				</linearGradient>
				<linearGradient id="waveGradient2" x1="0%" y1="0%" x2="100%" y2="0%">
					<stop offset="0%" style="stop-color:rgba(6, 182, 212, 0.4);stop-opacity:1" />
					<stop offset="50%" style="stop-color:rgba(59, 130, 246, 0.6);stop-opacity:1" />
					<stop offset="100%" style="stop-color:rgba(6, 182, 212, 0.4);stop-opacity:1" />
				</linearGradient>
			</defs>
		</svg>

		<header class="relative z-10 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600 text-white shadow-lg backdrop-blur-sm bg-opacity-90 border-b border-blue-400/30">
			<div class="container mx-auto px-6 py-4">
				<div class="flex items-center justify-between">
					{!content.hideHeaderTitle ? (
						<div class="animate-fade-in-up">
							<h1 class="text-2xl font-bold bg-gradient-to-r from-white via-cyan-100 to-blue-100 bg-clip-text text-transparent">Cygnus Music</h1>
							<p class="text-white text-sm">AI-Generated Music Composition Gallery</p>
						</div>
					) : (
						<div></div>
					)}
					<div class="hidden md:flex items-center space-x-6 animate-fade-in-up animation-delay-300">
						<nav class="flex space-x-6">
							<a href="/" class="text-white hover:text-white transition-all duration-300 hover:scale-110 hover:drop-shadow-lg">Home</a>
							<a href="/drum-transcription" class="text-white hover:text-white transition-all duration-300 hover:scale-110 hover:drop-shadow-lg">ü•Å Transcribe</a>
							<a href="/midi-preview" class="text-white hover:text-white transition-all duration-300 hover:scale-110 hover:drop-shadow-lg" title="MIDI">MIDI</a>
							<a href="/admin" class="text-white hover:text-white transition-all duration-300 hover:scale-110 hover:drop-shadow-lg" title="Admin">Admin</a>
						</nav>
					</div>
				</div>
			</div>
		</header>

		<!-- Main Content -->
		<div class="relative z-10 min-h-[calc(100vh-80px)] flex flex-col">
			<slot />
		</div>

		<!-- Global Components -->
		<DrumMidiPreview client:load />
		<DrumToast client:load />

		<style>
			/* Floating particles animation */
			.particle {
				position: absolute;
				width: 4px;
				height: 4px;
				background: radial-gradient(circle, rgba(6, 182, 212, 0.8) 0%, rgba(59, 130, 246, 0.4) 100%);
				border-radius: 50%;
				animation: float 6s ease-in-out infinite;
			}

			.particle-1 {
				top: 20%;
				left: 10%;
				animation-delay: 0s;
				animation-duration: 8s;
			}

			.particle-2 {
				top: 60%;
				left: 80%;
				animation-delay: 2s;
				animation-duration: 6s;
			}

			.particle-3 {
				top: 80%;
				left: 20%;
				animation-delay: 4s;
				animation-duration: 10s;
			}

			.particle-4 {
				top: 30%;
				left: 70%;
				animation-delay: 1s;
				animation-duration: 7s;
			}

			.particle-5 {
				top: 50%;
				left: 30%;
				animation-delay: 3s;
				animation-duration: 9s;
			}

			.particle-6 {
				top: 10%;
				left: 60%;
				animation-delay: 5s;
				animation-duration: 8s;
			}

			@keyframes float {
				0%, 100% {
					transform: translateY(0px) translateX(0px) scale(1);
					opacity: 0.7;
				}
				25% {
					transform: translateY(-20px) translateX(10px) scale(1.2);
					opacity: 1;
				}
				50% {
					transform: translateY(-40px) translateX(-5px) scale(0.8);
					opacity: 0.5;
				}
				75% {
					transform: translateY(-20px) translateX(-10px) scale(1.1);
					opacity: 0.8;
				}
			}

			/* Wave animations */
			.wave-animation {
				position: absolute;
				bottom: 0;
				left: 0;
				width: 100%;
				height: 100%;
				animation: wave 4s ease-in-out infinite;
			}

			.wave-2 {
				animation: wave 6s ease-in-out infinite reverse;
				opacity: 0.7;
			}

			@keyframes wave {
				0%, 100% {
					transform: translateX(0px);
				}
				50% {
					transform: translateX(-20px);
				}
			}

			.animate-fade-in-up {
				animation: fadeInUp 0.8s ease-out forwards;
			}

			.animation-delay-300 {
				animation-delay: 0.3s;
				opacity: 0;
			}

			@keyframes fadeInUp {
				from {
					opacity: 0;
					transform: translateY(30px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			/* Responsive adjustments */
			@media (max-width: 768px) {
				.particle {
					width: 3px;
					height: 3px;
				}

				.wave-animation {
					height: 60px;
				}
			}
		</style>
	</body>
</html>
